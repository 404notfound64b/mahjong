webpackJsonp([1],{"+QwO":function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host{width:100%;height:100%;display:block}:host .board-svg{width:100%;height:100%;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host .board-svg rect.background{fill:#2b424f}",""]),t.exports=t.exports.toString()},0:function(t,e,o){t.exports=o("cDNt")},"1fN9":function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,".tooltip-content{position:fixed;border-radius:3px;z-index:50000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);font-size:13px;padding:4px}.tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px 5px;font-size:1em}.tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px 5px}.tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.tooltip-content.position-right{-webkit-transform:translate3d(10px,0,0);transform:translate3d(10px,0,0)}.tooltip-content.position-left{-webkit-transform:translate3d(-10px,0,0);transform:translate3d(-10px,0,0)}.tooltip-content.position-top{-webkit-transform:translate3d(0,-10px,0);transform:translate3d(0,-10px,0)}.tooltip-content.position-bottom{-webkit-transform:translate3d(0,10px,0);transform:translate3d(0,10px,0)}.tooltip-content.animate{opacity:1;transition:opacity .3s,-webkit-transform .3s;transition:opacity .3s,transform .3s;transition:opacity .3s,transform .3s,-webkit-transform .3s;-webkit-transform:translateZ(0);transform:translateZ(0);pointer-events:auto}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}",""]),t.exports=t.exports.toString()},"4qR/":function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 75 100" preserveAspectRatio="xMidYMid meet" [ngSwitch]="imageSet">\n\t<defs *ngSwitchCase="\'recri\'" app-image-set-recri></defs>\n\t<defs *ngSwitchCase="\'recri2\'" app-image-set-recri2></defs>\n\t<defs *ngSwitchCase="\'bzhmaddog\'" app-image-set-bzhmaddog></defs>\n\t<defs *ngSwitchCase="\'gleitz\'" app-image-set-gleitz></defs>\n\t<defs *ngSwitchDefault app-image-set-riichi></defs>\n\t<rect class="stone" x="0" y="0" width="75" height="100" rx="10" ry="10"></rect>\n\t<use [attr.xlink:href]="\'#\'+tile" x="6" y="6" width="63" height="88"/>\n</svg>\n'},"5xX6":function(t,e){t.exports='<div class="tiles-wrapper">\n\t<div class="tiles-section" *ngFor="let suit of info.suits">\n\t\t<div class="tiles-title">{{suit.name}}</div>\n\t\t<div class="tiles-set-9">\n\t\t\t<div class="tile" *ngFor="let tile of suit.tiles">\n\t\t\t\t<app-tile [tile]="tile.img" [imageSet]="imageSet"></app-tile>\n\t\t\t\t<div [innerHtml]="tile.name"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="tiles-section-half" *ngFor="let group of [info.bonus, info.honors] ">\n\t\t<div class="tiles-section-4" *ngFor="let suit of group">\n\t\t\t<div class="tiles-title">{{suit.name}}</div>\n\t\t\t<div class="tiles-set-4">\n\t\t\t\t<div class="tile" *ngFor="let tile of suit.tiles">\n\t\t\t\t\t<app-tile [tile]="tile.img" [imageSet]="imageSet"></app-tile>\n\t\t\t\t\t<div [innerHtml]="tile.name"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="tiles-reference">\n\t\t<a rel="noopener" target="_blank" href="{{\'READ_MORE_WIKIPEDIA_URL\' | translate}}">{{\'READ_MORE_WIKIPEDIA\' | translate}}</a>\n\t</div>\n</div>\n'},J9pR:function(t,e){t.exports='<app-layout-list class="newgame-left" [layouts]="layouts" [index]="focusIndex" [select]="onSelectCallback" [start]="onStartCallback"></app-layout-list>\n<div class="newgame-right">\n\t<div class="start" *ngIf="current">\n\t\t<div>{{current.name}}</div>\n\t\t<div class="preview" (click)="onStart(current);">\n\t\t\t<app-board class="svg-board" [layout]="current"></app-board>\n\t\t</div>\n\t</div>\n</div>\n<ng-template #generatorTooltip>\n\t<div style="padding: 5px">\n\t\t<b>{{\'MODE_SOLVABLE\' | translate}}</b><br/>{{\'MODE_SOLVABLE_DESC\' | translate}}<br/>\n\t\t<b>{{\'MODE_LINEAR\' | translate}}</b><br/>{{\'MODE_LINEAR_DESC\' | translate}}<br/>\n\t\t<b>{{\'MODE_RANDOM\' | translate}}</b><br/>{{\'MODE_RANDOM_DESC\' | translate}}<br/>\n\t</div>\n</ng-template>\n\n<div class="choose-buttons">\n\t<div class="generator" tooltip [tooltipTemplate]="generatorTooltip">\n\t\t<label>{{\'BOARD_GENERATOR\' | translate}}:</label><br/>\n\t\t<select [(ngModel)]="mode">\n\t\t\t<option *ngFor="let m of builder.modes" value="{{m.id}}">{{m.id | translate}}</option>\n\t\t</select>\n\t</div>\n\t<button class="link" [disabled]="!current" (click)="onStart(current)">{{\'START_SELECTED\' | translate}}</button>\n\t<button class="link" (click)="randomGame()">{{\'START_RANDOM\' | translate}}</button>\n</div>\n\n'},Nd1g:function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host .layout-list{margin:0;list-style:none;width:100%;max-height:100%;overflow-y:auto;font-size:1em;padding:4px 0}",""]),t.exports=t.exports.toString()},OhQx:function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host{padding:2px;margin-left:1px;cursor:pointer;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host.selected{background-color:#efe9d5}:host:hover{background-color:#f9f7ef}:host span{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host span:first-of-type{display:inline-block;min-width:20px;font-size:.9em}",""]),t.exports=t.exports.toString()},Q7vx:function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host{padding:0;margin:0;border-top:1px solid #afafaf;border-bottom:1px solid #afafaf;width:100%;height:100%;display:block}:host .newgame-left{width:30%;height:100%;display:inline-block}:host .newgame-right{width:68%;height:100%;vertical-align:top;display:inline-block}:host .newgame-right .start{padding-top:4px;padding-bottom:4px;padding-left:10px;width:100%;height:100%;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host .newgame-right .start p{text-align:center}:host .newgame-right .start .preview{width:100%;height:200px;min-height:80%;display:block;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;background-color:#f5f1e4;margin-bottom:8px}:host .newgame-right .start .preview:hover{background-color:#eee7d1}:host .choose-buttons .link{color:#000;font-size:.9em;margin-top:2px;text-decoration:none;float:right}:host .choose-buttons .generator{float:left}",""]),t.exports=t.exports.toString()},UUBz:function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host{display:block;max-width:30px;width:100%;height:auto;margin:0 auto}:host>svg{height:100%;width:100%;background-color:#fff9e5;border:1px solid #4b4b4b}:host>svg rect.stone{fill:none;stroke:none}",""]),t.exports=t.exports.toString()},"VeI/":function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host{margin-bottom:0;padding-bottom:0;border-top:1px solid #afafaf;border-bottom:1px solid #afafaf;width:100%;height:100%;display:block}:host .tiles-wrapper{width:100%;height:100%;display:inline-block;overflow-y:auto;overflow-x:auto}:host .tiles-reference{padding-top:5px;text-align:right}:host .tile{-webkit-box-flex:1;-ms-flex:1 100%;flex:1 100%;min-width:auto;text-align:center;word-break:normal;font-size:.8em;margin-top:5px;margin-bottom:5px}@media (max-width:500px){:host .tile{font-size:.7em}}:host .tile img{max-width:30px;width:100%;height:auto;border:1px solid #afafaf;border-radius:2px}:host .tiles-title{margin-top:5px;text-align:center;font-size:.9em}:host .tiles-section{border-bottom:1px solid #d6d6d6;width:100%}:host .tiles-section .tiles-set-9{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}@media (max-width:400px){:host .tiles-section .tiles-set-9{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-flow:row wrap;flex-flow:row wrap}:host .tiles-section .tiles-set-9 .tile{-webkit-box-flex:1;-ms-flex:1 25%;flex:1 25%}}:host .tiles-section-half{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex}:host .tiles-section-half .tiles-section-4:first-of-type{margin-right:12%}:host .tiles-section-half .tiles-section-4{border-bottom:1px solid #d6d6d6;width:44%}:host .tiles-section-half .tiles-section-4 .tiles-set-4{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}@media (max-width:400px){:host .tiles-section-half{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-flow:row wrap;flex-flow:row wrap}:host .tiles-section-half .tiles-section-4:first-of-type{margin-right:0}:host .tiles-section-half .tiles-section-4{width:100%;margin-right:0}:host .tiles-section-half .tiles-set-4{-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}:host .tiles-section-half .tiles-set-4 .tile{-webkit-box-flex:1;-ms-flex:1 25%;flex:1 25%}}",""]),t.exports=t.exports.toString()},W675:function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},XTlu:function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host.paused .board{-webkit-filter:blur(8px);-moz-filter:blur(8px);-ms-filter:blur(8px);-o-filter:blur(8px);filter:blur(8px)}:host .overlay{height:100%;width:100%;position:fixed;top:0;left:0;z-index:10000;background-color:rgba(0,0,0,.2);max-height:100%}:host .overlay .overlay-popup{max-height:calc(100% - 50px);position:fixed;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);margin-left:auto;margin-right:auto;overflow:hidden;border:1px solid #707070;background-color:#f5f1e4;padding:40px;border-radius:12px;box-shadow:12px 14px 16px rgba(0,0,0,.5)}@media (max-width:500px){:host .overlay .overlay-popup{padding:20px}}@media (max-height:400px){:host .overlay .overlay-popup{padding:20px}}:host .overlay .close{right:20px;margin-top:-20px;position:absolute;color:#a9a9a9;cursor:pointer}:host .controls-top{position:fixed;left:0;right:0;top:0;height:40px;z-index:10;padding:0 20px 0 20px;border-bottom:1px solid #345060}:host .board{position:fixed;left:0;right:0;top:40px;bottom:40px}:host .help{z-index:10010}:host .help .overlay-popup{padding-top:14px;padding-bottom:14px;width:500px;max-width:90%}:host .help .close{margin-top:0}:host .message .overlay-popup{max-width:400px;cursor:pointer;font-weight:600;font-size:30px;text-align:center;color:#47b00a;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-height:400px){:host .message .overlay-popup{font-size:20px}}:host .newgame .overlay-popup{width:100%;height:100%;max-width:600px;max-height:440px;padding-bottom:65px}@media (max-width:500px){:host .newgame .overlay-popup{padding:30px;padding-bottom:55px}}:host .tiles-info .overlay-popup{width:100%;height:100%;max-width:660px;max-height:600px}@media (max-width:500px){:host .tiles-info .overlay-popup{padding:30px}}@media (max-height:400px){:host .tiles-info .overlay-popup{padding-bottom:30px}}:host .controls-bottom{border-top:1px solid #345060;position:fixed;left:0;right:0;z-index:10;bottom:0;height:40px;padding:0 20px 0 20px}:host .ctrl{display:inline-block;color:#47b00a;font-size:1.4em;line-height:40px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host .ctrl .link{text-decoration:none;font-weight:400;color:#47b00a;margin-left:10px}:host .ctrl .link:hover{color:#51c80b}:host .ctrl .link[disabled]{color:#348007}:host .ctrl.ctrl-name{font-weight:600;cursor:pointer;font-size:1.5em}:host .ctrl .inactive{color:#348007}:host .ctrl .off{display:none}:host .ctrl.ctrl-game{float:right}:host .ctrl.ctrl-time{cursor:default;float:right}:host .ctrl.ctrl-stats{cursor:default}:host .ctrl.ctrl-stats .label{margin-left:10px}@media (max-width:700px){:host .controls-top span.label{display:none}:host .controls-bottom{font-size:10px}}@media (max-width:500px){:host .controls-top{font-size:.8em}:host .controls-top span.label{display:none}:host .controls-bottom{font-size:10px}}@media (max-width:400px){:host .ctrl .link{margin-left:4px}}@media (max-height:400px){:host .board{top:0;bottom:20px;right:50px}:host .controls-top{top:0;bottom:0;left:auto;right:0;padding:0;width:50px;max-width:50px;border-bottom:none;border-left:1px solid #345060;height:100%}:host .controls-top span.label{display:none}:host .controls-top .ctrl .link{margin-right:0}:host .controls-top .ctrl-name{display:none}:host .controls-bottom{padding-right:0;height:30px;font-size:10px}:host .controls-bottom .ctrl{line-height:30px}:host .controls-bottom .ctrl-time{text-align:center;width:50px;max-width:50px}}@media (max-height:280px){:host .controls-bottom{height:26px;font-size:9px}:host .controls-bottom .ctrl{line-height:26px}}",""]),t.exports=t.exports.toString()},YuZA:function(t,e){function o(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}o.keys=function(){return[]},o.resolve=o,t.exports=o,o.id="YuZA"},cDNt:function(t,e,o){"use strict";function n(t,e,o){return"top"===o?t.top-x:"bottom"===o?t.top+t.height-e.height+x:t.top+t.height/2-e.height/2}function i(t,e,o){return"left"===o?t.left-x:"right"===o?t.left+t.width-e.width+x:t.left+t.width/2-e.width/2}function s(t,e){return function(o,n,i){return{configurable:!0,enumerable:i.enumerable,get:function(){return Object.defineProperty(this,n,{configurable:!0,enumerable:i.enumerable,value:function(t,e,o){function n(){l=!1===o.leading?0:+new Date,a=null,r=t.apply(i,s)}o=o||{};var i,s,r,a=null,l=0;return function(){var c=+new Date;l||!1!==o.leading||(l=c);var p=e-(c-l);return i=this,s=arguments,p<=0?(clearTimeout(a),a=null,l=c,r=t.apply(i,s)):a||!1===o.trailing||(a=setTimeout(n,p)),r}}(i.value,t,e)}),this[n]}}}}function r(t){var e=function(t){return Math.floor(Math.random()*t.length)}(t);return t.splice(e,1)[0]}Object.defineProperty(e,"__esModule",{value:!0});var a,l=o("LMZF"),c=o("x8Hs"),p=o("RyBE"),h=o("9iV4"),d=o("0nO6"),u=o("q6td"),f=o("Un6q");!function(t){t[t.popover="popover"]="popover",t[t.tooltip="tooltip"]="tooltip"}(a||(a={}));var g;!function(t){t[t.left="left"]="left",t[t.center="center"]="center",t[t.right="right"]="right"}(g||(g={}));var m;!function(t){t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover"}(m||(m={}));var b,y=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},v=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},_=function(){function t(t,e,o){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=o}return t.prototype.getRootViewContainer=function(){if(this._container)return this._container;var t=this.applicationRef.components;if(t.length)return t[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.")},t.prototype.setRootViewContainer=function(t){this._container=t},t.prototype.getComponentRootNode=function(t){return t.hostView?t.hostView.rootNodes[0]:t.element.nativeElement},t.prototype.getRootViewContainerNode=function(){return this.getComponentRootNode(this.getRootViewContainer())},t.prototype.projectComponentBindings=function(t,e){if(e){if(void 0!==e.inputs)for(var o=0,n=Object.getOwnPropertyNames(e.inputs);o<n.length;o++){var i=n[o];t.instance[i]=e.inputs[i]}if(void 0!==e.outputs)for(var s=0,r=Object.getOwnPropertyNames(e.outputs);s<r.length;s++){var a=r[s];t.instance[a]=e.outputs[a]}}return t},t.prototype.appendComponent=function(t,e,o){void 0===e&&(e={}),void 0===o&&(o=this.getRootViewContainerNode());var n=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector),i=this.applicationRef,s=this.getComponentRootNode(n);this.projectComponentBindings(n,e),i.attachView(n.hostView),n.onDestroy(function(){i.detachView(n.hostView)});return n.instance.renderer.appendChild(o,s),n},t=y([Object(l.y)(),v("design:paramtypes",[l.f,l.o,l.A])],t)}(),w=function(){function t(t){this.injectionService=t,this.defaults={},this.components=new Map}return t.prototype.getByType=function(t){return void 0===t&&(t=this.type),this.components.get(t)},t.prototype.create=function(t){return this.createByType(this.type,t)},t.prototype.createByType=function(t,e){e=this.assignDefaults(e);var o=this.injectComponent(t,e);return this.register(t,o),o},t.prototype.destroy=function(t){var e=this.components.get(t.componentType);if(e){var o=e.indexOf(t);if(o>-1){e[o].destroy(),e.splice(o,1)}}},t.prototype.destroyAll=function(){this.destroyByType(this.type)},t.prototype.destroyByType=function(t){var e=this.components.get(t);if(e)for(var o=0,n=e;o<n.length;o++){var i=n[o];this.destroy(i)}},t.prototype.assignDefaults=function(t){var e=this.defaults,o=e.inputs,n=e.outputs;return t.inputs||t.outputs||(t={inputs:t}),o&&(t.inputs=Object.assign(o,t.inputs)),n&&(t.outputs=Object.assign(n,t.outputs)),t},t.prototype.injectComponent=function(t,e){return this.injectionService.appendComponent(t,e)},t.prototype.register=function(t,e){this.components.has(t)||this.components.set(t,[]);this.components.get(t).push(e)},t}();!function(t){t[t.top="top"]="top",t[t.bottom="bottom"]="bottom",t[t.left="left"]="left",t[t.right="right"]="right"}(b||(b={}));var x=7,O=function(){function t(){}return t.calculateVerticalAlignment=function(t,e,o){var i=n(t,e,o);return i+e.height>window.innerHeight&&(i=window.innerHeight-e.height),i},t.calculateVerticalCaret=function(t,e,o,i){var s;"top"===i&&(s=t.height/2-o.height/2+x),"bottom"===i&&(s=e.height-t.height/2-o.height/2-x),"center"===i&&(s=e.height/2-o.height/2);var r=n(t,e,i);return r+e.height>window.innerHeight&&(s+=r+e.height-window.innerHeight),s},t.calculateHorizontalAlignment=function(t,e,o){var n=i(t,e,o);return n+e.width>window.innerWidth&&(n=window.innerWidth-e.width),n},t.calculateHorizontalCaret=function(t,e,o,n){var s;"left"===n&&(s=t.width/2-o.width/2+x),"right"===n&&(s=e.width-t.width/2-o.width/2-x),"center"===n&&(s=e.width/2-o.width/2);var r=i(t,e,n);return r+e.width>window.innerWidth&&(s+=r+e.width-window.innerWidth),s},t.shouldFlip=function(t,e,o,s,r){var a=!1;if("right"===o){(l=i(t,e,s))+e.width+r>window.innerWidth&&(a=!0)}if("left"===o){(l=i(t,e,s))-r<0&&(a=!0)}if("top"===o&&t.top-e.height-r<0&&(a=!0),"bottom"===o){var l=n(t,e,s);l+e.height+r>window.innerHeight&&(a=!0)}return a},t.positionCaret=function(e,o,n,i,s){var r=0,a=0;return e===b.right?(a=-7,r=t.calculateVerticalCaret(n,o,i,s)):e===b.left?(a=o.width,r=t.calculateVerticalCaret(n,o,i,s)):e===b.top?(r=o.height,a=t.calculateHorizontalCaret(n,o,i,s)):e===b.bottom&&(r=-7,a=t.calculateHorizontalCaret(n,o,i,s)),{top:r,left:a}},t.positionContent=function(e,o,n,i,s){var r=0,a=0;return e===b.right?(a=n.left+n.width+i,r=t.calculateVerticalAlignment(n,o,s)):e===b.left?(a=n.left-o.width-i,r=t.calculateVerticalAlignment(n,o,s)):e===b.top?(r=n.top-o.height-i,a=t.calculateHorizontalAlignment(n,o,s)):e===b.bottom&&(r=n.top+n.height+i,a=t.calculateHorizontalAlignment(n,o,s)),{top:r,left:a}},t.determinePlacement=function(e,o,n,i,s){if(t.shouldFlip(n,o,e,s,i)){if(e===b.right)return b.left;if(e===b.left)return b.right;if(e===b.top)return b.bottom;if(e===b.bottom)return b.top}return e},t}(),S=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},k=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=function(){function t(t,e){this.element=t,this.renderer=e}return Object.defineProperty(t.prototype,"cssClasses",{get:function(){var t="tooltip-content";return t+=" position-"+this.placement,t+=" type-"+this.type,t+=" "+this.cssClass},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){setTimeout(this.position.bind(this))},t.prototype.position=function(){var t=this,e=this.element.nativeElement,o=this.host.nativeElement.getBoundingClientRect();if(o.height||o.width){var n=e.getBoundingClientRect();this.checkFlip(o,n),this.positionContent(e,o,n),this.showCaret&&this.positionCaret(o,n),setTimeout(function(){return t.renderer.addClass(e,"animate")},1)}},t.prototype.positionContent=function(t,e,o){var n=O.positionContent(this.placement,o,e,this.spacing,this.alignment),i=n.top,s=n.left;this.renderer.setStyle(t,"top",i+"px"),this.renderer.setStyle(t,"left",s+"px")},t.prototype.positionCaret=function(t,e){var o=this.caretElm.nativeElement,n=o.getBoundingClientRect(),i=O.positionCaret(this.placement,e,t,n,this.alignment),s=i.top,r=i.left;this.renderer.setStyle(o,"top",s+"px"),this.renderer.setStyle(o,"left",r+"px")},t.prototype.checkFlip=function(t,e){this.placement=O.determinePlacement(this.placement,e,t,this.spacing,this.alignment)},t.prototype.onWindowResize=function(){this.position()},S([Object(l.B)(),k("design:type",Object)],t.prototype,"host",void 0),S([Object(l.B)(),k("design:type",Object)],t.prototype,"template",void 0),S([Object(l.B)(),k("design:type",Boolean)],t.prototype,"showCaret",void 0),S([Object(l.B)(),k("design:type",Number)],t.prototype,"type",void 0),S([Object(l.B)(),k("design:type",Number)],t.prototype,"placement",void 0),S([Object(l.B)(),k("design:type",Number)],t.prototype,"alignment",void 0),S([Object(l.B)(),k("design:type",Number)],t.prototype,"spacing",void 0),S([Object(l.B)(),k("design:type",String)],t.prototype,"cssClass",void 0),S([Object(l.B)(),k("design:type",String)],t.prototype,"title",void 0),S([Object(l._5)("caretElm"),k("design:type",Object)],t.prototype,"caretElm",void 0),S([Object(l.v)("class"),k("design:type",String),k("design:paramtypes",[])],t.prototype,"cssClasses",null),S([Object(l.w)("window:resize"),s(100),k("design:type",Function),k("design:paramtypes",[]),k("design:returntype",void 0)],t.prototype,"onWindowResize",null),t=S([Object(l.m)({selector:"app-tooltip-content",template:'\n\t\t<span *ngIf="!title"><ng-template [ngTemplateOutlet]="template" [ngTemplateOutletContext]="{ model: context }"></ng-template></span>\n\t\t<div>\n\t\t\t<span #caretElm [hidden]="!showCaret" class="tooltip-caret position-{{this.placement}}"></span>\n\t\t\t<div class="tooltip-content">\n\t\t\t\t<span *ngIf="title" [innerHTML]="title"></span>\n\t\t\t</div>\n\t\t</div>\n\t',styles:[o("1fN9")],encapsulation:l._8.None}),k("design:paramtypes",[l.r,l.T])],t)}(),R=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),T=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},j=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=function(t){function e(e){var o=t.call(this,e)||this;return o.type=E,o}return R(e,t),e=T([Object(l.y)(),j("design:paramtypes",[_])],e)}(w),N=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},A=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},I=function(){function t(t,e,o,n,i){this.tooltipService=t,this.viewContainerRef=e,this.renderer=o,this.element=n,this.zone=i,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=b.top,this.tooltipAlignment=g.center,this.tooltipType=a.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=m.all,this.tooltipImmediateExit=!1,this.show=new l.t,this.hide=new l.t}return Object.defineProperty(t.prototype,"listensForFocus",{get:function(){return this.tooltipShowEvent===m.all||this.tooltipShowEvent===m.focus},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listensForHover",{get:function(){return this.tooltipShowEvent===m.all||this.tooltipShowEvent===m.mouseover},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.hideTooltip(!0)},t.prototype.onFocus=function(){this.listensForFocus&&this.showTooltip()},t.prototype.onBlur=function(){this.listensForFocus&&this.hideTooltip(!0)},t.prototype.onMouseEnter=function(){this.listensForHover&&this.showTooltip()},t.prototype.onMouseLeave=function(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component){if(this.component.instance.element.nativeElement.contains(t))return}this.hideTooltip(this.tooltipImmediateExit)}},t.prototype.onMouseClick=function(){this.listensForHover&&this.hideTooltip(!0)},t.prototype.showTooltip=function(t){var e=this;if(!this.component&&!this.tooltipDisabled){var o=t?0:this.tooltipShowTimeout;clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.tooltipService.destroyAll();var t=e.createBoundOptions();e.component=e.tooltipService.create(t),setTimeout(function(){e.component&&e.addHideListeners(e.component.instance.element.nativeElement)},10),e.show.emit(!0)},o)}},t.prototype.addHideListeners=function(t){var e=this;this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",function(){clearTimeout(e.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",function(){e.hideTooltip(e.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen(document,"click",function(o){t.contains(o.target)||e.hideTooltip()}))},t.prototype.hideTooltip=function(t){var e=this;if(void 0===t&&(t=!1),this.component){var o=function(){e.mouseLeaveContentEvent&&e.mouseLeaveContentEvent(),e.mouseEnterContentEvent&&e.mouseEnterContentEvent(),e.documentClickEvent&&e.documentClickEvent(),e.hide.emit(!0),e.tooltipService.destroy(e.component),e.component=void 0};clearTimeout(this.timeout),t?o():this.timeout=setTimeout(o,this.tooltipHideTimeout)}},t.prototype.createBoundOptions=function(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}},N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipCssClass",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipTitle",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipAppendToBody",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipSpacing",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipDisabled",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipShowCaret",void 0),N([Object(l.B)(),A("design:type",Number)],t.prototype,"tooltipPlacement",void 0),N([Object(l.B)(),A("design:type",Number)],t.prototype,"tooltipAlignment",void 0),N([Object(l.B)(),A("design:type",Number)],t.prototype,"tooltipType",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipCloseOnClickOutside",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipCloseOnMouseLeave",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipHideTimeout",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipShowTimeout",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipTemplate",void 0),N([Object(l.B)(),A("design:type",Number)],t.prototype,"tooltipShowEvent",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipContext",void 0),N([Object(l.B)(),A("design:type",Object)],t.prototype,"tooltipImmediateExit",void 0),N([Object(l.M)(),A("design:type",Object)],t.prototype,"show",void 0),N([Object(l.M)(),A("design:type",Object)],t.prototype,"hide",void 0),N([Object(l.w)("focusin"),A("design:type",Function),A("design:paramtypes",[]),A("design:returntype",void 0)],t.prototype,"onFocus",null),N([Object(l.w)("blur"),A("design:type",Function),A("design:paramtypes",[]),A("design:returntype",void 0)],t.prototype,"onBlur",null),N([Object(l.w)("mouseenter"),A("design:type",Function),A("design:paramtypes",[]),A("design:returntype",void 0)],t.prototype,"onMouseEnter",null),N([Object(l.w)("mouseleave",["$event.target"]),A("design:type",Function),A("design:paramtypes",[Object]),A("design:returntype",void 0)],t.prototype,"onMouseLeave",null),N([Object(l.w)("click"),A("design:type",Function),A("design:paramtypes",[]),A("design:returntype",void 0)],t.prototype,"onMouseClick",null),t=N([Object(l.q)({selector:"[tooltip]"}),A("design:paramtypes",[C,l._7,l.T,l.r,l.K])],t)}(),D=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},L=function(){function t(){}return t=D([Object(l.G)({declarations:[E,I],providers:[_,C],exports:[E,I],imports:[f.a],entryComponents:[E]})],t)}(),M=function(){function t(){this.elapsed=0,this._lastTime=0,this._started=0,this._timer=null}return t.prototype.start=function(){this._timer||(this.elapsed=this.elapsed||0)},t.prototype.reset=function(){this._timer&&(window.clearTimeout(this._timer),this._timer=null),this._started=0,this._lastTime=0,this.elapsed=0},t.prototype.run=function(){var t=this;this._timer||(this._lastTime=(new Date).getTime(),this._timer=window.setTimeout(function(){t.step()},1e3))},t.prototype.pause=function(){if(this._timer){window.clearTimeout(this._timer),this._timer=null;var t=(new Date).getTime();this.elapsed+=t-this._lastTime}},t.prototype.step=function(){var t=this,e=(new Date).getTime();this.elapsed+=e-this._lastTime,this._lastTime=e,this._timer=window.setTimeout(function(){t.step()},1e3)},t}(),P=[["ball_1","ball_1","ball_1","ball_1"],["ball_2","ball_2","ball_2","ball_2"],["ball_3","ball_3","ball_3","ball_3"],["ball_4","ball_4","ball_4","ball_4"],["ball_5","ball_5","ball_5","ball_5"],["ball_6","ball_6","ball_6","ball_6"],["ball_7","ball_7","ball_7","ball_7"],["ball_8","ball_8","ball_8","ball_8"],["ball_9","ball_9","ball_9","ball_9"],["character_1","character_1","character_1","character_1"],["character_2","character_2","character_2","character_2"],["character_3","character_3","character_3","character_3"],["character_4","character_4","character_4","character_4"],["character_5","character_5","character_5","character_5"],["character_6","character_6","character_6","character_6"],["character_7","character_7","character_7","character_7"],["character_8","character_8","character_8","character_8"],["character_9","character_9","character_9","character_9"],["bamboo_1","bamboo_1","bamboo_1","bamboo_1"],["bamboo_2","bamboo_2","bamboo_2","bamboo_2"],["bamboo_3","bamboo_3","bamboo_3","bamboo_3"],["bamboo_4","bamboo_4","bamboo_4","bamboo_4"],["bamboo_5","bamboo_5","bamboo_5","bamboo_5"],["bamboo_6","bamboo_6","bamboo_6","bamboo_6"],["bamboo_7","bamboo_7","bamboo_7","bamboo_7"],["bamboo_8","bamboo_8","bamboo_8","bamboo_8"],["bamboo_9","bamboo_9","bamboo_9","bamboo_9"],["season_spring","season_summer","season_fall","season_winter"],["wind_north","wind_north","wind_north","wind_north"],["wind_south","wind_south","wind_south","wind_south"],["wind_east","wind_east","wind_east","wind_east"],["wind_west","wind_west","wind_west","wind_west"],["flower_bamboo","flower_chrysanthemum","flower_orchid","flower_plum"],["dragon_green","dragon_green","dragon_green","dragon_green"],["dragon_white","dragon_white","dragon_white","dragon_white"],["dragon_red","dragon_red","dragon_red","dragon_red"]],z={suits:[{name:"Circles",tiles:[{name:"Pearl",char:"Chu",img:"ball_1"},{name:"Pine tree",char:"Sung",img:"ball_2"},{name:"Phoenix",char:"Feng",img:"ball_3"},{name:"Jade",char:"Y\xfc",img:"ball_4"},{name:"Dragon",char:"Lung",img:"ball_5"},{name:"Peach",char:"Tao",img:"ball_6"},{name:"Insect",char:"Ch'ung",img:"ball_7"},{name:"White Tiger",char:"Hu",img:"ball_8"},{name:"Unicorn",char:"Ch'i",img:"ball_9"}]},{name:"Bamboo",tiles:[{name:"Peacock",char:"K'ung",img:"bamboo_1"},{name:"Duck",char:"Ya",img:"bamboo_2"},{name:"Toad",char:"Min",img:"bamboo_3"},{name:"Carp",char:"Li",img:"bamboo_4"},{name:"Lotus flower",char:"Lien",img:"bamboo_5"},{name:"Water",char:"Shui",img:"bamboo_6"},{name:"Tortoise",char:"Kuei",img:"bamboo_7"},{name:"Mushroom",char:"Ch\xfcn",img:"bamboo_8"},{name:"Willow tree",char:"Liu",img:"bamboo_9"}]},{name:"Characters",tiles:[{name:"Bar of door",char:"Ju",img:"character_1"},{name:"Sword",char:"Chien",img:"character_2"},{name:"Earth",char:"Ti",img:"character_3"},{name:"Lute",char:"Ch'in",img:"character_4"},{name:"House",char:"Fang",img:"character_5"},{name:"Fire",char:"Huo",img:"character_6"},{name:"Seven stars",char:"Tuo",img:"character_7"},{name:"Knot",char:"Chieh",img:"character_8"},{name:"Heaven",char:"Tien",img:"character_9"}]}],bonus:[{name:"Seasons",tiles:[{name:"Spring",char:"Yu",img:"season_spring"},{name:"Summer",char:"Ch'iao",img:"season_summer"},{name:"Fall",char:"Keng",img:"season_fall"},{name:"Winter",char:"Tu",img:"season_winter"}]},{name:"Flowers",tiles:[{name:"Bamboo",char:"Chu",img:"flower_bamboo"},{name:"Orchid",char:"Lan",img:"flower_orchid"},{name:"Plum Blossom",char:"Li",img:"flower_plum"},{name:"Chrysan&shy;themum",char:"Ch\xfc",img:"flower_chrysanthemum"}]}],honors:[{name:"Winds",tiles:[{name:"East",char:"Tung",img:"wind_east"},{name:"South",char:"Nan",img:"wind_south"},{name:"West",char:"Hsi",img:"wind_west"},{name:"North",char:"Pei",img:"wind_north"}]},{name:"Dragons",tiles:[{name:"Red",char:"Chung",img:"dragon_red"},{name:"Green",char:"Fa",img:"dragon_green"},{name:"White",char:"Pai",img:"dragon_white"}]}]},G=function(){return function(){var t=this;this.list=[],this.groups=[];var e=0;P.map(function(t){return t.map(function(t){return{id:t}})}).forEach(function(o,n){var i={v:n,tiles:[]};t.groups.push(i),o.forEach(function(o){var s={groupnr:n,v:++e,img:o};i.tiles.push(s),t.list[e]=s})})}}(),B=function(){function t(t,e,o,n,i){this.group=[],this.z=t,this.x=e,this.y=o,this.v=n,this.groupnr=i,this.picked=!1}return t.hasStone=function(t){for(var e=0;e<t.length;e++)if(!t[e].picked)return!0;return!1},t.prototype.isBlocked=function(){return t.hasStone(this.nodes.top)||t.hasStone(this.nodes.left)&&t.hasStone(this.nodes.right)},t}(),F=function(t,e,o,n){for(var i=0,s=t.length;i<s;i++)if(t[i].z===e&&t[i].x===o&&t[i].y===n)return t[i]},V=function(t,e){var o={};return t.forEach(function(n){var i=e.list[n.v];n.img=i?i.img:{id:null},o[n.groupnr]=o[n.groupnr]||[],o[n.groupnr].push(n),n.nodes=function(t,e){for(var o,n={left:[],right:[],top:[],bottom:[]},i=e.y-1;i<=e.y+1;i++){(o=F(t,e.z,e.x-2,i))&&n.left.push(o),(o=F(t,e.z,e.x+2,i))&&n.right.push(o);for(var s=e.x-1;s<=e.x+1;s++)(o=F(t,e.z+1,s,i))&&n.top.push(o),(o=F(t,e.z-1,s,i))&&n.bottom.push(o)}return n}(t,n)}),Object.keys(o).forEach(function(t){var e=o[parseInt(t,10)];e.forEach(function(t){t.group=e.filter(function(e){return e!==t})})}),t},U=function(){function t(){}return t.prototype.build=function(t,e){var o=e.list.filter(function(t){return null!=t}),n=[];return t.mapping.forEach(function(t){var e=r(o),i=new B(t[0],t[1],t[2],e.v,e.groupnr);n.push(i)}),V(n,e),n},t}(),H=function(){function t(){}return t.prototype.build=function(t,e){for(var o=e.list.filter(function(t){return null!=t}),n=[],i=t.mapping.slice(0);o.length>0;){var s=r(o),a=r(i);n.push(new B(a[0],a[1],a[2],s.v,s.groupnr))}return V(n,e),n},t}(),W=function(){function t(){}return t.prototype.build=function(t,e){var o=[];t.mapping.forEach(function(t){o.push(new B(t[0],t[1],t[2],0,0))}),V(o,e);for(var n=this.solve(o,e),i=1;0===n.length&&i<100;)o.forEach(function(t){t.picked=!1,t.v=0,t.groupnr=0}),n=this.solve(o,e),i++;return o.forEach(function(t){t.picked=!1}),V(o,e),o.sort(function(t,e){return t.v-e.v}),o},t.prototype.solve=function(t,e){var o=[],n=[];for(e.groups.forEach(function(t){var e=t.tiles.slice(),o=r(e),i=r(e),s=r(e),a=e[0];n.push([o,i]),n.push([s,a])});n.length>0;){var i=r(n),s=t.filter(function(t){return!t.picked&&!t.isBlocked()});if(s.length<2)return[];var a=r(s),l=r(s);a.v=i[0].v,a.img=i[0].img,a.groupnr=i[0].groupnr,a.picked=!0,l.v=i[1].v,l.img=i[1].img,l.groupnr=i[1].groupnr,l.picked=!0,o.push(i)}return o},t}(),Y=function(){function t(){}return t.prototype.build=function(t,e){var o=[];return t.mapping.forEach(function(t){var n=e.list[t[3]];if(n){var i=new B(t[0],t[1],t[2],t[3],n.groupnr);o.push(i)}}),V(o,e),o},t}(),K=[{id:"MODE_SOLVABLE",builder:W},{id:"MODE_LINEAR",builder:U},{id:"MODE_RANDOM",builder:H}],Z=function(){function t(){this.tiles=new G,this.modes=K}return t.prototype.build=function(t,e){var o;if("load"===t)o=new Y;else{o=new(K.filter(function(e){return e.id===t})[0].builder)}if(o)return o.build(e,this.tiles)},t}(),q=function(){return function(){}}(),J=function(){function t(){this.items=[]}return t.prototype.load=function(t){var e=this;this.items=t.map(function(t,o){return{index:o,name:t.name,mapping:e.expandMapping(t.mapping)}})},t.prototype.expandMapping=function(t){var e=[];return t&&t.forEach(function(t){for(var o=0;o<(t[3]||1);o++)e.push([t[0],t[1]+2*o,t[2]])}),e},t}(),Q=function(){function t(){this.builder=new Z,this.free=[],this.stones=[],this.count=0,this.hints={groups:[],current:null},this.selected=null}return t.prototype.clearSelection=function(){this.selected&&(this.selected.selected=!1),this.selected=null},t.prototype.setStoneSelected=function(t){this.clearSelection(),t&&(t.selected=!0,this.selected=t)},t.prototype.clearHints=function(){this.hints.current&&this.hints.current.stones.forEach(function(t){t.hinted=!1}),this.hints={groups:[],current:null}},t.prototype.hintNext=function(){if(!this.hints.current)return!1;this.hints.current.stones.forEach(function(t){t.hinted=!1});var t=this.hints.groups.indexOf(this.hints.current);return t>=0&&(++t>=this.hints.groups.length&&(t=0),t<this.hints.groups.length)&&(this.hints.current=this.hints.groups[t],this.hints.current.stones.forEach(function(t){t.hinted=!0}),!0)},t.prototype.collectHints=function(){var t={};return this.free.forEach(function(e){var o=e.groupnr.toString();t[o]=t[o]||[],t[o].push(e)}),Object.keys(t).map(function(e){return{group:t[e][0].groupnr,stones:t[e]}})},t.prototype.hint=function(){if(!this.hintNext()&&(this.clearHints(),0!==this.free.length)){var t=this.collectHints();if(this.selected){var e=this.selected.groupnr;t.sort(function(t,o){return t.group===e?-1:o.group===e?1:0})}this.hints={groups:t,current:t[0]},this.hints.current.stones.forEach(function(t){t.hinted=!0})}},t.prototype.reset=function(){this.clearSelection(),this.clearHints(),this.free=[],this.count=0,this.stones=[]},t.prototype.update=function(){var t=[],e=0;this.stones.forEach(function(t){t.state={blocked:!t.picked&&t.isBlocked(),removable:!1},e+=t.picked?0:1}),this.stones.forEach(function(e){e.state.removable=!e.picked&&!e.state.blocked&&function(t){return t.group.filter(function(t){return!t.picked&&!t.isBlocked()}).length>0}(e),e.state.removable&&t.push(e)}),this.free=t,this.count=e},t.prototype.load=function(t,e){if(t){var o=new q;o.mapping=t;var n=this.builder.build("load",o);e.forEach(function(t){var e=F(n,t[0],t[1],t[2]);e&&(e.picked=!0)}),this.stones=n}},t.prototype.save=function(){return this.stones.map(function(t){return[t.z,t.x,t.y,t.v]})},t.prototype.applyLayout=function(t,e){this.stones=this.builder.build(e,t)},t}(),$=[{id:"filename",name:"name"}],X=function(){function t(){}return t.prototype.play=function(){},t.prototype.next=function(){},t.prototype.pause=function(){},t.prototype.stop=function(){},t.prototype.isPaused=function(){return!1},t.prototype.current=function(){return"hi"},t}(),tt=(function(){function t(){this._paused=!1,this._audio=null,this._played=[],this._tracks=$,this._current=$[Math.floor(Math.random()*$.length)]}t.prototype.play=function(){var t=this;if(this._paused&&this._audio)return this._paused=!1,this._audio.play();if(!this._audio&&this._current){var e=new Audio;e.src="assets/music/"+this._current.id+".mp3",e.load(),e.play(),e.addEventListener("error",function(e){console.error(e),t._audio=null},!0),e.addEventListener("ended",this.next),this._audio=e}},t.prototype.next=function(){var t=this;this._audio&&(this._audio.pause(),this._played.push(this._current),this._paused=!1,this._audio=null);var e=this._tracks.filter(function(e){return t._played.indexOf(e)<0});0===e.length&&(this._played=[],e=this._tracks),this._current=e[Math.floor(Math.random()*e.length)],this.play()},t.prototype.pause=function(){this._audio&&(this._audio.pause(),this._paused=!0)},t.prototype.stop=function(){this._audio&&this._audio.pause(),this._audio=null},t.prototype.isPaused=function(){return this._paused},t.prototype.current=function(){return this._current}}(),{NOPE:"245764__unclesigmund__small-stones_4.656",MATCH:"245764__unclesigmund__small-stones_4.822",OVER:"329678__manuts__sound-logo-trademark-12"}),et=function(){function t(){this.audioplayers={}}return t.prototype.play=function(t){if(!this.audioplayers[t]){var e=new Audio;e.src="assets/sounds/"+t+".ogg",e.load(),this.audioplayers[t]=e}this.audioplayers[t].play()},t.prototype.pause=function(t){this.audioplayers[t]&&this.audioplayers[t].pause()},t}(),ot={idle:0,run:1,pause:2,freeze:3},nt=function(){function t(){this.settings={lang:"auto",sounds:!0,music:!1,tileset:"riichi"},this.stats={games:0,bestTime:0},this.clock=new M,this.board=new Q,this.sound=new et,this.music=new X,this.state=ot.idle,this.message=null,this.undo=[]}return t.prototype.init=function(){this.loadSettings(),this.load(),this.board.update(),this.state===ot.run&&this.pause(),this.message=this.isPaused()?"MSG_CONTINUE_SAVE":"MSG_START"},t.prototype.ngOnInit=function(){this.onClick=this.click.bind(this)},t.prototype.delayedSave=function(){var t=this;setTimeout(function(){t.save()},1e3)},t.prototype.playSound=function(t){this.settings.sounds&&this.sound.play(t)},t.prototype.resolveMatchingStone=function(t){var e=this.board.selected;this.board.clearSelection(),this.undo.push([e.z,e.x,e.y],[t.z,t.x,t.y]),this.board.clearHints(),e.picked=!0,t.picked=!0,this.board.update();var o=null;if(this.board.count<2)o="MSG_GOOD",(0===this.stats.bestTime||this.clock.elapsed<this.stats.bestTime)&&(this.stats.bestTime=this.clock.elapsed,o="MSG_BEST");else{if(!(this.board.free.length<1))return this.playSound(tt.MATCH),this.delayedSave();o="MSG_FAIL"}this.playSound(tt.OVER),this.setState(ot.idle,o),this.clock.reset(),this.delayedSave()},t.prototype.click=function(t){if(t)return!this.isRunning()||t.state.blocked?(this.playSound(tt.NOPE),!0):(0===this.clock.elapsed&&this.clock.run(),this.board.selected&&t&&t!==this.board.selected&&t.groupnr===this.board.selected.groupnr?(this.resolveMatchingStone(t),!0):(this.board.setStoneSelected(this.board.selected!==t?t:null),!0));this.board.clearSelection()},t.prototype.isRunning=function(){return this.state===ot.run},t.prototype.isPaused=function(){return this.state===ot.pause},t.prototype.isIdle=function(){return this.state===ot.idle},t.prototype.resume=function(){this.run(),this.clock.run(),this.settings.music&&this.music.play()},t.prototype.setState=function(t,e){this.message=e,this.state=t},t.prototype.run=function(){this.board.clearHints(),this.board.update(),this.setState(ot.run)},t.prototype.hint=function(){this.board.hint()},t.prototype.toggle=function(){this.state===ot.run?this.pause():this.state===ot.pause&&this.resume()},t.prototype.pause=function(){this.clock.pause(),this.setState(ot.pause,"MSG_CONTINUE_PAUSE"),this.save(),this.settings.music&&this.music.pause()},t.prototype.reset=function(){this.clock.reset(),this.setState(ot.idle),this.board.reset(),this.undo=[],this.stats.games+=1},t.prototype.start=function(t,e){this.board.applyLayout(t,e),this.board.update(),this.run()},t.prototype.back=function(){if(this.isRunning()&&!(this.undo.length<2)){this.board.clearSelection(),this.board.clearHints();var t=this.undo.pop(),e=this.undo.pop();this.board.stones.forEach(function(o){o.z===t[0]&&o.x===t[1]&&o.y===t[2]?o.picked=!1:o.z===e[0]&&o.x===e[1]&&o.y===e[2]&&(o.picked=!1)}),this.board.update()}},t.prototype.load=function(){if(!localStorage)return!1;var t=localStorage.getItem("state");if(!t)return!1;try{var e=JSON.parse(t);this.clock.elapsed=e.elapsed||0,this.undo=e.undo||[],this.state=e.state||ot.idle,this.board.load(e.stones,this.undo)}catch(t){console.error("local storage load failed",t)}},t.prototype.save=function(){if(!localStorage)return!1;try{localStorage.setItem("state",JSON.stringify({elapsed:this.clock.elapsed,state:this.state,undo:this.undo,stones:this.board.save()}))}catch(t){console.error("local storage save failed",t)}},t.prototype.toggleSound=function(){this.settings.sounds=!this.settings.sounds,this.saveSettings()},t.prototype.loadSettings=function(){if(!localStorage)return!1;var t=localStorage.getItem("settings");if(!t)return!1;try{var e=JSON.parse(t);this.settings.lang=e.lang||"auto",this.settings.tileset=e.tileset||"riichi",this.settings.music=e.music||!1,this.settings.sounds=e.sounds||!1,this.stats.games=e.games||0,this.stats.bestTime=e.bestTime||0}catch(t){console.error("local storage load failed",t)}},t.prototype.saveSettings=function(){if(!localStorage)return!1;try{localStorage.setItem("settings",JSON.stringify({lang:this.settings.lang,sounds:this.settings.sounds,music:this.settings.music,tileset:this.settings.tileset,games:this.stats.games,bestTime:this.stats.bestTime}))}catch(t){console.error("local storage save failed",t)}},t}(),it=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},st=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rt=function(){function t(t){this.http=t}return t.prototype.get=function(t){var e=this;if(this.layouts)return t(this.layouts);this.http.get("assets/data/boards.json").subscribe(function(o){var n=new J;n.load(o),e.layouts=n,t(n)})},t=it([Object(l.y)(),st("design:paramtypes",[h.a])],t)}(),at={RESTART:"Restart",UNDO:"Undo",PAUSE:"Pause",HINT:"Hint",STONES:"Stones",FREE:"Free",FULLSCREEN:"Fullscreen",HINT_LONG:"Show possible moves",UNDO_LONG:"Undo last move",RESTART_LONG:"Start a new game",PAUSE_LONG:"Continue/Pause game",MSG_CONTINUE_PAUSE:"Continue Game...",MSG_CONTINUE_SAVE:"Continue Saved Game...",MSG_START:"Start Game",MSG_PLAY_AGAIN:"Play again",MSG_BEST:"Congratulations, new best time!",MSG_GOOD:"Well done!",MSG_FAIL:"No more matching tiles.",STATS_GAMES:"Nr. of Games",STATS_BEST:"Best time",LICENSE:"License",SHORTCUTS:"Shortcuts",SETTINGS:"Info",STATS:"Stats",MODE:"Board Fill Algorithm",MODE_SOLVABLE:"Solvable",MODE_LINEAR:"Linear",MODE_RANDOM:"Random",AUDIO:"Audio",AUDIO_SOUNDS:"Sounds",AUDIO_MUSIC:"Music",LANG:"Language",LANG_EN:"English",LANG_DE:"German",LANG_AUTO:"[Default]",OPEN_SETTINGS:"Click here to open the settings",READ_MORE_WIKIPEDIA:"Read more on wikipedia",READ_MORE_WIKIPEDIA_URL:"https://en.wikipedia.org/wiki/Mahjong_tiles",TILES_INFO:"Tiles Information",MODE_SOLVABLE_DESC:"A random fill with at least one solving possibility",MODE_RANDOM_DESC:"A total random fill, maybe unsolvable",MODE_LINEAR_DESC:"A backwards fill, always solvable, maybe boring to experienced players",BOARD_GENERATOR:"Board Generator",START_SELECTED:"Start Selected",START_RANDOM:"Start Random",TILESET:"Tileset Art"},lt={RESTART:"Neustart",UNDO:"Zur\xfcck",PAUSE:"Pause",HINT:"Tip",STONES:"Steine",FREE:"Frei",FULLSCREEN:"Vollbild",SETTINGS:"Info",HINT_LONG:"M\xf6gliche Z\xfcge anzeigen",UNDO_LONG:"Letzten Zug r\xfcckg\xe4ngig machen",RESTART_LONG:"Neues Spiel beginnen",PAUSE_LONG:"Spiel anhalten/fortfahren",MSG_CONTINUE_PAUSE:"Spiel fortsetzen...",MSG_CONTINUE_SAVE:"Geladenes Spiel fortsetzen...",MSG_START:"Spiel starten",MSG_PLAY_AGAIN:"Nochmal spielen",MSG_BEST:"Gratulation, neue Bestzeit!",MSG_GOOD:"Sehr sch\xf6n!",MSG_FAIL:"Keine passenden Ziegel mehr.",STATS_GAMES:"Anzahl Spiele",STATS_BEST:"Bestzeit",LICENSE:"Lizenz",SHORTCUTS:"Tastaturk\xfcrzel",STATS:"Statistik",MODE:"Spielbrett-Algorithmus",MODE_SOLVABLE:"L\xf6sbar",MODE_LINEAR:"Linear",MODE_RANDOM:"Zuf\xe4llig",AUDIO:"Audio",AUDIO_SOUNDS:"T\xf6ne",AUDIO_MUSIC:"Musik",LANG:"Sprache",LANG_AUTO:"[Standard]",LANG_EN:"Englisch",LANG_DE:"Deutsch",OPEN_SETTINGS:"Klick hier um die Einstellungen zu \xf6ffnen",READ_MORE_WIKIPEDIA:"Mehr bei Wikipedia lesen",READ_MORE_WIKIPEDIA_URL:"https://de.wikipedia.org/wiki/Mah-Jongg",TILES_INFO:"Steinverzeichnis",MODE_SOLVABLE_DESC:"Fast zuf\xe4lliger Aufbau mit mindestens einer L\xf6sung",MODE_RANDOM_DESC:"Zuf\xe4lliger Aufbau, vielleicht unl\xf6sbar",MODE_LINEAR_DESC:"Umgekehrter linearer Aufbau, immer l\xf6sbar, m\xf6glicherweise zu langweilig f\xfcr erfahrene Spieler*innen",BOARD_GENERATOR:"Spielgenerator",START_SELECTED:"Auswahl starten",START_RANDOM:"Zuf\xe4lliges starten",TILESET:"Steine-Art"},ct=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},pt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ht=function(){function t(t,e){var o=this;this.game=new nt,this.loading=!0,e.setTranslation("en",at),e.setTranslation("de",lt),e.setDefaultLang("en"),t.get(function(t){o.layouts=t,o.loading=!1}),this.game.init(),window.addEventListener("beforeunload",function(){return o.game.isRunning()&&o.game.pause(),null},!1),window.addEventListener("blur",function(){o.game.isRunning()&&o.game.pause()},!1)}return t=ct([Object(l.m)({selector:"app-root",template:o("efyd"),styles:[o("W675")]}),pt("design:paramtypes",[rt,u.b])],t)}(),dt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},ut=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ft=function(){function t(){this.focusIndex=0,this.current=null,this.mode="MODE_SOLVABLE",this.builder=new Z}return t.prototype.ngOnInit=function(){this.onSelectCallback=this.onSelect.bind(this),this.onStartCallback=this.onStart.bind(this)},t.prototype.onStart=function(t){t&&this.start(t,this.mode)},t.prototype.onSelect=function(t){this.current=t},t.prototype.randomGame=function(){this.focusIndex=Math.floor(Math.random()*this.layouts.items.length),this.start(this.layouts.items[this.focusIndex],this.mode)},dt([Object(l.B)(),ut("design:type",Function)],t.prototype,"start",void 0),dt([Object(l.B)(),ut("design:type",J)],t.prototype,"layouts",void 0),t=dt([Object(l.m)({selector:"app-choose-board-component",template:o("J9pR"),styles:[o("Q7vx")]}),ut("design:paramtypes",[])],t)}(),gt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},mt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},bt=function(){function t(t,e){this.translate=t,this.el=e,this.tilesInfoVisible=!1,this.helpVisible=!1,this.newGameVisible=!1}return t.prototype.handleKeyDownEvent=function(t){if(this.helpVisible)27===t.keyCode&&(this.helpVisible=!this.helpVisible);else if(this.newGameVisible)27===t.keyCode&&(this.newGameVisible=!this.newGameVisible);else if(this.tilesInfoVisible)27===t.keyCode&&(this.tilesInfoVisible=!this.tilesInfoVisible);else switch(t.which){case 72:this.helpVisible=!this.helpVisible;break;case 73:this.tilesInfoVisible=!this.tilesInfoVisible;break;case 84:this.game.hint();break;case 68:break;case 85:this.game.back();break;case 78:this.game.reset();break;case 32:case 80:this.game.isRunning()?this.game.pause():this.game.isPaused()&&this.game.resume()}},t.prototype.ngOnInit=function(){this.onClickCallback=this.stoneClick.bind(this),this.onGameStartCallback=this.startGame.bind(this),this.setLang()},t.prototype.ngOnChanges=function(t){t.game&&this.game.isIdle()&&(this.newGameVisible=!0)},t.prototype.stoneClick=function(t){this.game.click(t)},t.prototype.enterFullScreen=function(){var t=window.document;if(t.fullScreen||t.fullscreen||t.mozFullScreen||t.webkitIsFullScreen)t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen();else{var e=this.el.nativeElement;e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()}},t.prototype.newGame=function(){this.game.pause(),this.newGameVisible=!0},t.prototype.startGame=function(t,e){this.newGameVisible=!1,this.game.reset(),this.game.start(t,e)},t.prototype.toggleNewGame=function(){this.game.isIdle()||(this.newGameVisible=!this.newGameVisible)},t.prototype.toggleTilesInfo=function(){this.tilesInfoVisible=!this.tilesInfoVisible},t.prototype.toggleHelp=function(){this.helpVisible=!this.helpVisible,this.helpVisible||(this.game.saveSettings(),this.setLang())},t.prototype.clickMessage=function(){this.game.isPaused()?this.game.resume():this.game.reset()},t.prototype.setLang=function(){var t="en";this.game.settings.lang&&"auto"!==this.game.settings.lang?t=this.game.settings.lang:(t=navigator.language.split("-")[0],t=/(de|en)/gi.test(t)?t:"en"),["de","en"].indexOf(t)>=0&&this.translate.use(t)},gt([Object(l.B)(),mt("design:type",nt)],t.prototype,"game",void 0),gt([Object(l.B)(),mt("design:type",J)],t.prototype,"layouts",void 0),gt([Object(l.w)("document:keydown",["$event"]),mt("design:type",Function),mt("design:paramtypes",[KeyboardEvent]),mt("design:returntype",void 0)],t.prototype,"handleKeyDownEvent",null),t=gt([Object(l.m)({selector:"app-game-component",template:o("uDNQ"),styles:[o("XTlu")]}),mt("design:paramtypes",[u.b,l.r])],t)}(),yt={production:!0,version:"1.0.2"},vt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},_t=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wt=function(){function t(t){this.http=t}return t.prototype.get=function(t,e){this.http.get("assets/svg/"+t+".svg",{responseType:"text"}).subscribe(function(t){e(t)})},t=vt([Object(l.y)(),_t("design:paramtypes",[h.a])],t)}(),xt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Ot=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},St=[{id:"riichi",name:"SVG Riichi"},{id:"gleitz",name:"PNG Gleitz"},{id:"bzhmaddog",name:"SVG Bzhmaddog"},{id:"recri",name:"PNG Recri"},{id:"recri2",name:"SVG Recri"},{id:"cheshire137",name:"SVG Cheshire137"},{id:"open-classic",name:"PNG Open Classic"}],kt=function(){function t(t,e){this.elementRef=t,this.svgdef=e}return t.prototype.ngOnInit=function(){var t=this;this.imageSet&&this.svgdef.get(this.imageSet,function(e){var o=e.replace(/xlink:href="\./g,'xlink:href="assets/svg').split("<defs>")[1].split("</defs>")[0];setTimeout(function(){t.elementRef.nativeElement.innerHTML=o},0)})},t.prototype.ngOnChanges=function(t){this.ngOnInit()},xt([Object(l.B)(),Ot("design:type",String)],t.prototype,"imageSet",void 0),t=xt([Object(l.m)({selector:"[app-image-set-loader]",template:"<svg:defs></svg:defs>"}),Ot("design:paramtypes",[l.r,wt])],t)}(),Et=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Rt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Tt=function(){function t(){this.version=yt.version,this.sets=St}return Et([Object(l.B)(),Rt("design:type",nt)],t.prototype,"game",void 0),t=Et([Object(l.m)({selector:"app-help-component",template:o("vgoR"),styles:[o("yVVz")]}),Rt("design:paramtypes",[])],t)}(),jt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Ct=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Nt=function(){function t(t){this.el=t}return t.prototype.scrollIntoView=function(){this.el.nativeElement.scrollIntoView()},jt([Object(l.B)(),Ct("design:type",q)],t.prototype,"layout",void 0),t=jt([Object(l.m)({selector:"[app-layout-list-item]",template:o("sno+"),styles:[o("OhQx")]}),Ct("design:paramtypes",[l.r])],t)}(),At=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},It=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Dt=function(){function t(){this.index=0,this.current=null}return t.prototype.ngOnChanges=function(t){t.index&&this.layouts&&this.setCurrent(this.layouts.items[this.index],!0),t.layouts&&this.layouts&&this.setCurrent(this.layouts.items[this.index],!0)},t.prototype.setSelected=function(t){this.start&&this.start(t)},t.prototype.setCurrent=function(t,e){t&&(this.index=t.index,this.current=t,e&&this.children&&this.children.toArray().forEach(function(e){e.layout===t&&e.scrollIntoView()}),this.select&&this.select(t))},t.prototype.onKeydown=function(t){switch(t.keyCode){case 13:case 32:return this.select(this.current),t.stopPropagation(),!1;case 38:return 0===this.index?this.index=this.layouts.items.length-1:this.index--,this.setCurrent(this.layouts.items[this.index],!0),t.stopPropagation(),!1;case 40:return this.index+1===this.layouts.items.length?this.index=0:this.index++,this.setCurrent(this.layouts.items[this.index],!0),t.stopPropagation(),!1}return!0},t.prototype.ngOnInit=function(){},At([Object(l.B)(),It("design:type",J)],t.prototype,"layouts",void 0),At([Object(l.B)(),It("design:type",Object)],t.prototype,"index",void 0),At([Object(l.B)(),It("design:type",Function)],t.prototype,"select",void 0),At([Object(l.B)(),It("design:type",Function)],t.prototype,"start",void 0),At([Object(l._6)(Nt),It("design:type",l.R)],t.prototype,"children",void 0),t=At([Object(l.m)({selector:"app-layout-list",template:o("gvy/"),styles:[o("Nd1g")]}),It("design:paramtypes",[])],t)}(),Lt={mY:18,mX:38,mZ:7,tile_width:75,tile_height:100},Mt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Pt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},zt=function(){function t(){this.draw_stones=[],this.draw_cells=[],this.rotate=!1,this.w=1470,this.h=960,this.translate="",this.viewport="0 0 1470 960",this.emptySource=new B(0,0,0,0,0)}return e=t,t.calcPos=function(t,e,o){var n={x:Lt.tile_width*e/2-5*t+Lt.tile_width/2,y:Lt.tile_height*o/2-8*t+Lt.tile_height/2,z:o+Lt.mY*(e+Lt.mX*t),translate:""};return n.translate="translate("+n.x+","+n.y+")",n},t.prototype.ngOnInit=function(){},t.prototype.setViewPort=function(){var t,e=this.calcBounds();t=this.rotate?[-e[3]-Lt.tile_height,-e[0],e[3]+Lt.tile_height,e[2]+e[0]+Lt.tile_width+40]:[e[0]-40,e[1]-20,e[2]+Lt.tile_height+40,e[3]+Lt.tile_height+20],this.viewport=t.join(" ")},t.prototype.calcBounds=function(){var t=Math.max(this.w,this.h),e=[t,t,0,0];return this.draw_stones.concat(this.draw_cells).forEach(function(t){e[0]=Math.min(e[0],t.pos.x),e[1]=Math.min(e[1],t.pos.y),e[2]=Math.max(e[2],t.pos.x),e[3]=Math.max(e[3],t.pos.y)}),e},t.prototype.updateTiles=function(t){t&&(this.setSort(t.filter(function(t){return null!=t}).map(function(t){return{z:t.z,x:t.x,y:t.y,v:t.v,visible:!0,url:t.img.id,pos:e.calcPos(t.z,t.x,t.y),source:t}})),this.setViewPort())},t.prototype.updateLevel=function(t){var o=this;if(this.draw_cells=[],t&&t.rows){var n=[];t.rows.forEach(function(i,s){i.forEach(function(i,r){var a={x:s,y:r,z:t.z,v:i,visible:!0,pos:e.calcPos(t.z,s,r),source:o.emptySource};o.draw_cells.push(a),a.v>0&&n.push(a)})}),t.showTiles?this.setSort(n):this.draw_stones=[]}},t.prototype.updateLayout=function(t){var o=this;this.setSort(t.mapping.map(function(t){return{z:t[0],x:t[1],y:t[2],v:0,visible:!0,pos:e.calcPos(t[0],t[1],t[2]),source:o.emptySource}})),this.setViewPort()},t.prototype.ngOnChanges=function(t){t.tiles?this.updateTiles(t.tiles.currentValue):t.layout?this.updateLayout(t.layout.currentValue):t.level&&this.updateLevel(t.level.currentValue)},t.prototype.onCellColor=function(t){return this.cellcolor?this.cellcolor(t.z,t.x,t.y):"#fff"},t.prototype.onCellClick=function(t){this.cellclick&&this.cellclick(t)},t.prototype.setSort=function(t){var e=function(t){return t.source?(t.source.hinted?1e5:0)+(t.source.selected?1e5:0)+t.pos.z:t.pos.z};this.draw_stones=t.sort(function(t,o){var n=e(t),i=e(o);return n<i?-1:n>i?1:0})},t.prototype.onClick=function(t){this.click&&t&&(this.click(t.source),this.setSort(this.draw_stones))},t.prototype.onResize=function(t){if(!this.cellcolor){var e=t.target,o=e.innerHeight>e.innerWidth;o!==this.rotate&&(this.rotate=o,this.rotate?this.translate="rotate(90)":this.translate="",this.setViewPort())}},Mt([Object(l.B)(),Pt("design:type",String)],t.prototype,"imageSet",void 0),Mt([Object(l.B)(),Pt("design:type",Object)],t.prototype,"level",void 0),Mt([Object(l.B)(),Pt("design:type",Array)],t.prototype,"tiles",void 0),Mt([Object(l.B)(),Pt("design:type",q)],t.prototype,"layout",void 0),Mt([Object(l.B)(),Pt("design:type",Function)],t.prototype,"cellcolor",void 0),Mt([Object(l.B)(),Pt("design:type",Function)],t.prototype,"cellclick",void 0),Mt([Object(l.B)(),Pt("design:type",Function)],t.prototype,"click",void 0),t=e=Mt([Object(l.m)({selector:"app-board",template:o("oQVK"),styles:[o("+QwO")]}),Pt("design:paramtypes",[])],t);var e}(),Gt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Bt=function(){function t(){}return t.prototype.transform=function(t){if(isNaN(t)||0===t)return"-";var e=Math.floor(t/1e3),o=Math.floor(e/3600),n=Math.floor((e-3600*o)/60),i=e-3600*o-60*n;return(o>0?(o<10?"0":"")+o+":":"")+(n<10?"0":"")+n+":"+(i<10?"0":"")+i},t=Gt([Object(l.Q)({name:"duration"})],t)}(),Ft=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Vt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ut=function(){function t(){this.info=z,this.imageSet="bzhmaddog"}return t=Ft([Object(l.m)({selector:"app-tiles-info",template:o("5xX6"),styles:[o("VeI/")]}),Vt("design:paramtypes",[])],t)}(),Ht=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Wt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Yt=function(){function t(){}return t.prototype.ngOnInit=function(){},Ht([Object(l.B)(),Wt("design:type",String)],t.prototype,"imageSet",void 0),Ht([Object(l.B)(),Wt("design:type",String)],t.prototype,"tile",void 0),t=Ht([Object(l.m)({selector:"app-tile",template:o("4qR/"),styles:[o("UUBz")]}),Wt("design:paramtypes",[])],t)}(),Kt=this&&this.__decorate||function(t,e,o,n){var i,s=arguments.length,r=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(r=(s<3?i(r):s>3?i(e,o,r):i(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r},Zt=function(){function t(){}return t=Kt([Object(l.G)({declarations:[ht,ft,bt,Tt,Dt,Nt,zt,Bt,Ut,Yt,kt],imports:[p.a,d.a,h.b,L,u.a.forRoot()],providers:[rt,wt],bootstrap:[ht]})],t)}();yt.production&&Object(l._11)(),Object(c.a)().bootstrapModule(Zt).catch(function(t){return console.log(t)})},efyd:function(t,e){t.exports='<div [hidden]="loading" [ngClass]="{hidden:!game,paused:game.isPaused()}">\n  <app-game-component [game]="game" [layouts]="layouts"></app-game-component>\n</div>\n'},"gvy/":function(t,e){t.exports='<ul class="layout-list">\n\t<li class="link" app-layout-list-item *ngFor="let layout of layouts.items"\n\t\t[layout]="layout"\n\t\ttabindex="{{layout.index+1}}"\n\t\t[ngClass]="{selected:layout==current}"\n\t\t(click)="setCurrent(layout);"\n\t\t(dblclick)="setSelected(layout)"\n\t\t(keydown)="onKeydown($event)">\n\t\t<span>{{layout.index+1}}</span> <span>{{layout.name}}</span>\n\t</li>\n</ul>\n'},oQVK:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" class="board-svg" [ngClass]="{rotate:rotate}" [attr.viewBox]="viewport" preserveAspectRatio="xMidYMid meet" (window:resize)="onResize($event)">\n\t<defs>\n\t\t<style type="text/css">\n\n\t\t\tg.stage {\n\t\t\t\ttransition: opacity 500ms;\n\t\t\t}\n\n\t\t\tg.tile {\n\t\t\t\t/*transition: transform 200ms ease-out;*/\n\t\t\t\ttransform-origin: 50px 32.5px;\n\t\t\t\topacity: 1;\n\t\t\t}\n\n\t\t\tg.hinted g.tile {\n\t\t\t\ttransform: scale(1.12);\n\t\t\t}\n\n\t\t\tg.hinted g.tile rect {\n\t\t\t\tstroke: #9f0000;\n\t\t\t\tstroke-width: 3px;\n\t\t\t}\n\n\t\t\tg.selected g.tile {\n\t\t\t\ttransform: scale(1.08);\n\t\t\t}\n\n\t\t\tg.selected g.tile rect {\n\t\t\t\tstroke: black;\n\t\t\t}\n\n\t\t\tg.selected.hinted g.tile {\n\t\t\t\ttransform: scale(1.14);\n\t\t\t}\n\n\t\t\tg.selected.hinted g.tile rect {\n\t\t\t\tstroke: #9f0000;\n\t\t\t\tstroke-width: 3px;\n\t\t\t}\n\n\t\t\tg.draw rect.shadow {\n\t\t\t\tfill: black;\n\t\t\t\topacity: 0.6;\n\t\t\t\tstroke-width: 1;\n\t\t\t\tstroke: black;\n\t\t\t}\n\n\t\t\tg.draw rect.stone {\n\t\t\t\tfill: #FFF9E5;\n\t\t\t\tstroke-width: 1;\n\t\t\t\tstroke: black;\n\t\t\t}\n\n\t\t\tg.hidden {\n\t\t\t\topacity: 0;\n\t\t\t}\n\n\t\t</style>\n\t\t<filter id="filter4198-8" style="color-interpolation-filters:sRGB">\n\t\t\t<feGaussianBlur stdDeviation="2.51 2.51" result="blur"/>\n\t\t</filter>\n\t\t<mask id="mask4216-0" maskUnits="userSpaceOnUse">\n\t\t\t<rect\n\t\t\t\t\try="40"\n\t\t\t\t\ty="-1325.6035"\n\t\t\t\t\tx="-451.93805"\n\t\t\t\t\theight="400.77808"\n\t\t\t\t\twidth="300.05896"\n\t\t\t\t\tstyle="opacity:1;fill:#ff3737;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:10;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"\n\t\t\t\t\ttransform="scale(-1,-1)"/>\n\t\t</mask>\n\t\t<mask id="mask4222-0" maskUnits="userSpaceOnUse">\n\t\t\t<rect\n\t\t\t\t\try="40"\n\t\t\t\t\ty="652.28351"\n\t\t\t\t\tx="0"\n\t\t\t\t\theight="400.77808"\n\t\t\t\t\twidth="300.05896"\n\t\t\t\t\tstyle="opacity:1;fill:#ff3737;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:10;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"/>\n\t\t</mask>\n\n\t\t<svg id="front" width="300" height="400" viewBox="0 0 300 400">\n\t\t\t<g transform="translate(0,-652.36216)">\n\t\t\t\t\x3c!--<rect--\x3e\n\t\t\t\t\x3c!--style="opacity:1;fill:#f5f0eb;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:10;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"--\x3e\n\t\t\t\t\x3c!--id="rect4164"--\x3e\n\t\t\t\t\x3c!--width="300.05896"--\x3e\n\t\t\t\t\x3c!--height="400.77808"--\x3e\n\t\t\t\t\x3c!--x="0"--\x3e\n\t\t\t\t\x3c!--y="652.28351"--\x3e\n\t\t\t\t\x3c!--ry="40"/>--\x3e\n\t\t\t\t<path\n\t\t\t\t\t\ttransform="translate(-1.3432789e-7,-1.3368765e-6)"\n\t\t\t\t\t\tstyle="fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;filter:url(#filter4198-8)"\n\t\t\t\t\t\td="M -4.7687833,775.07096 C -9.6501835,741.99485 -16.84552,674.23676 -1.2788716,652.0641 18.998297,625.94378 233.50094,631.63117 263.31435,653.90999 276.21398,662.64856 70.349579,663.12124 47.099353,691.74479 24.390958,719.11242 0.65060847,818.18718 -4.7687833,775.07096 Z"\n\t\t\t\t\t\tid="path4166"\n\t\t\t\t\t\tmask="url(#mask4222-0)"\n\t\t\t\t/>\n\t\t\t\t<path\n\t\t\t\t\t\tid="path4221"\n\t\t\t\t\t\td="m 151.73588,1025.0177 c -3.32683,-9.3138 -10.24843,-68.45389 5.31821,-90.62655 20.27717,-26.12032 219.43558,-16.45796 231.55506,-9.93184 11.07433,5.31702 -178.60366,0.0589 -204.85126,34.86646 -21.59349,30.0006 -26.50086,82.17843 -32.02201,65.69193 z"\n\t\t\t\t\t\tstyle="fill:#000000;fill-opacity:0.19607843;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;filter:url(#filter4198-8)"\n\t\t\t\t\t\ttransform="matrix(-1,0,0,-1,451.93806,1977.887)"\n\t\t\t\t\t\tmask="url(#mask4216-0)"/>\n\t\t\t</g>\n\t\t</svg>\n\t</defs>\n\t<defs app-image-set-loader [imageSet]="imageSet"></defs>\n\t<rect class="background" x="-6000px" y="-6000px" width="12000px" height="12000px" (mousedown)="onClick();"></rect>\n\t<g class="stage">\n\t\t<rect *ngFor="let draw of draw_cells" stroke="black" stroke-width="1" [attr.fill]="onCellColor(draw)" [attr.x]="draw.pos.x" [attr.y]="draw.pos.y" width="37.5px" height="50px" (click)="onCellClick(draw);"></rect>\n\t</g>\n\t<g class="stage" [attr.transform]="translate">\n\t\t<g *ngFor="let draw of draw_stones" class="draw" [ngClass]="{selected:draw.source.selected,hidden:draw.source.picked,hinted:draw.source.hinted,removable:draw.source.state&&draw.source.state.removable}" [attr.transform]="draw.pos.translate" (mousedown)="onClick(draw);">\n\t\t\t<g class="tile">\n\t\t\t\t<rect class="shadow" x="3" y="3" width="75px" height="100px" rx="10" ry="10"></rect>\n\t\t\t\t<rect class="stone" x="0" y="0" width="75" height="100" rx="10" ry="10"></rect>\n\t\t\t\t<use [attr.xlink:href]="\'#\'+draw.url" x="6" y="6" width="63" height="88"/>\n\t\t\t\t<use xlink:href="#front" x="0" y="0" width="75" height="100"/>\n\t\t\t</g>\n\t\t</g>\n\t</g>\n</svg>\n'},"sno+":function(t,e){t.exports="<span>{{layout.index+1}}</span> <span>{{layout.name}}</span>\n"},uDNQ:function(t,e){t.exports='<div class="controls-top">\n\t<div class="ctrl ctrl-name">\n\t\t<span class="link button" (click)="toggleHelp()" title="{{\'OPEN_SETTINGS\' | translate}}">\ud83c\udc04\ufe0fMah</span>\n\t</div>\n\t<div class="ctrl ctrl-game">\n\t\t<span class="link button" (click)="enterFullScreen()" title="{{\'FULLSCREEN\' | translate}}">\n\t\t\t<i class="icon-resize-full-alt"></i> <span class="label">{{\'FULLSCREEN\' | translate}}</span>\n\t\t</span>\n\t\t<span class="link button" (click)="game.toggle()" title="{{\'PAUSE_LONG\' | translate}}">\n\t\t\t<i class="icon-pause"></i> <span class="label">{{\'PAUSE\' | translate}}</span>\n\t\t</span>\n\t\t<span class="link button" (click)="game.back()" title="{{\'UNDO_LONG\' | translate}}" [attr.disabled]="game.undo.length==0 ? true : null">\n\t\t\t<i class="icon-undo"></i> <span class="label">{{\'UNDO\' | translate}}</span>\n\t\t</span>\n\t\t<span class="link button" (click)="game.hint()" title="{{\'HINT_LONG\' | translate}}">\n\t\t\t<i class="icon-lightbulb"></i> <span class="label">{{\'HINT\' | translate}}</span>\n\t\t</span>\n\t\t<span class="link button" (click)="newGame()" title="{{\'RESTART_LONG\' | translate}}">\n\t\t\t<i class="icon-loop"></i> <span class="label">{{\'RESTART\' | translate}}</span>\n\t\t</span>\n\t</div>\n</div>\n<div class="board">\n\t<app-board class="svg-board" [tiles]="game.board.stones" [imageSet]="game.settings.tileset" [click]="onClickCallback"></app-board>\n</div>\n<div class="controls-bottom">\n\t<div class="ctrl ctrl-stats">\n\t\t<span class="link button" (click)="toggleHelp()" title="{{\'OPEN_SETTINGS\' | translate}}">\n\t\t\t<i class="icon-info"></i>\n\t\t</span>\n\t\t<span class="link button" (click)="toggleTilesInfo()" title="{{\'TILES_INFO\' | translate}}">\n\t\t\t<i class="icon-calendar"></i>\n\t\t</span>\n\t\t<span class="link button" [ngClass]="{\'inactive\':!game.settings.sounds}" (click)="game.toggleSound()" title="{{\'AUDIO_SOUNDS\'|translate}}">\n\t\t\t<i class="icon-volume-low"></i>\n\t\t</span>\n\t\t\x3c!--<span class="link button" [ngClass]="{\'inactive\':!game.settings.music}" (click)="game.toggleMusic()" title="{{\'AUDIO_MUSIC\'|translate}}">--\x3e\n\t\t\t\x3c!--<i class="icon-note-beamed"></i>--\x3e\n\t\t\x3c!--</span>--\x3e\n\t\t<span class="label button"><small>{{\'STONES\' | translate}}</small>: <span>{{game.board.count}}</span></span>\n\t\t<span class="label button"><small>{{\'FREE\' | translate}}</small>: <span>{{game.board.free.length}}</span></span>\n\t\t<span class="link button" [ngClass]="{\'off\':!game.settings.music}">\n\t\t\t\t<small>{{\'TRACK\' | translate}}</small>: <span (click)="game.music.next()">{{game.music.current()}}</span>\n\t\t\t</span>\n\t</div>\n\t<div class="ctrl ctrl-time">\n\t\t<span>{{game.clock.elapsed | duration}}</span>\n\t</div>\n</div>\n<div *ngIf="helpVisible" class="overlay help" (click)="toggleHelp();">\n\t<div class="overlay-popup" (click)="$event.stopPropagation();">\n\t\t<span class="close" (click)="toggleHelp()"><i class="icon-cancel-circled2 pull-right"></i></span>\n\t\t<app-help-component [game]="game"></app-help-component>\n\t</div>\n</div>\n<div [hidden]="!game.message" class="overlay message" (click)="clickMessage();">\n\t<div class="overlay-popup">\n\t\t<div>{{game.message | translate}}</div>\n\t</div>\n</div>\n<div *ngIf="tilesInfoVisible" class="overlay tiles-info" (click)="toggleTilesInfo();">\n\t<div class="overlay-popup" (click)="$event.stopPropagation();">\n\t\t<span class="close" (click)="toggleTilesInfo()"><i class="icon-cancel-circled2 pull-right"></i></span>\n\t\t<app-tiles-info></app-tiles-info>\n\t</div>\n</div>\n<div *ngIf="layouts && newGameVisible" (click)="toggleNewGame();" class="overlay newgame">\n\t<div class="overlay-popup" (click)="$event.stopPropagation();">\n\t\t<span class="close" (click)="toggleNewGame();"><i class="icon-cancel-circled2 pull-right"></i></span>\n\t\t<app-choose-board-component class="choose" [layouts]="layouts" [start]="onGameStartCallback"></app-choose-board-component>\n\t</div>\n</div>\n'},vgoR:function(t,e){t.exports='<h1>\ud83c\udc04\ufe0fMah Solitaire v{{version}}</h1>\n<div class="keyboard">\n\t<p>{{\'SHORTCUTS\'|translate}}</p>\n\t<div><span>T</span> <span>{{\'HINT\'|translate}}</span> <span>{{\'HINT_LONG\'|translate}}</span></div>\n\t<div><span>U</span> <span>{{\'UNDO\'|translate}}</span> <span>{{\'UNDO_LONG\'|translate}}</span></div>\n\t<div><span>N</span> <span>{{\'RESTART\'|translate}}</span> <span>{{\'RESTART_LONG\'|translate}}</span></div>\n\t<div><span>P</span> <span>{{\'PAUSE\'|translate}}</span> <span>{{\'PAUSE_LONG\'|translate}}</span></div>\n</div>\n<div class="settings">\n\t<p>{{\'LANG\'|translate}}</p>\n\t<div class="buttons">\n\t\t<form>\n\t\t\t<ul class="radio">\n\t\t\t\t<li><input type="radio" name="lang" id="lang0" value="auto" [(ngModel)]="game.settings.lang"/><label for="lang0">{{\'LANG_AUTO\'|translate}}</label></li>\n\t\t\t\t<li><input type="radio" name="lang" id="lang1" value="en" [(ngModel)]="game.settings.lang"/><label for="lang1">{{\'LANG_EN\'|translate}}</label></li>\n\t\t\t\t<li><input type="radio" name="lang" id="lang2" value="de" [(ngModel)]="game.settings.lang"/><label for="lang2">{{\'LANG_DE\'|translate}}</label></li>\n\t\t\t</ul>\n\t\t</form>\n\t</div>\n</div>\n<div class="license">\n\t<p>{{\'LICENSE\'|translate}}</p>\n\t<div>\n\t\t<div><span>Game</span> <a rel="noopener" target="_blank" href="https://github.com/ffalt/mah/blob/master/LICENSE">MIT</a></div>\n\t\t<div><span>Tile Images</span> <a rel="noopener" target="_blank" href="https://github.com/gleitz/mahjong/blob/master/LICENSE">MIT</a></div>\n\t\t<div><span>Sounds</span> <a rel="noopener" href="https://github.com/ffalt/mah/blob/master/src/assets/sounds/LICENSE">CC0/CC-BY3.0</a></div>\n\t\t<div><span>Font Icons</span> <a rel="noopener" target="_blank" href="https://github.com/ffalt/mah/blob/master/src/fonts/fontello/LICENSE.txt">SIL</a></div>\n\t\t<div><span>Font Josefine</span> <a rel="noopener" target="_blank" href="https://github.com/ffalt/mah/blob/master/src/fonts/josefine/SIL%20Open%20Font%20License.txt">SIL</a></div>\n\t</div>\n</div>\n<div class="settings">\n\t<p>{{\'TILESET\'|translate}}</p>\n\t<div class="buttons">\n\t\t<form>\n\t\t\t<ul class="radio">\n\t\t\t\t<li *ngFor="let imageset of sets; let i=index;"><input type="radio" name="imageset" id="imageset{{i}}" [value]="imageset.id" [(ngModel)]="game.settings.tileset"/><label for="imageset{{i}}">{{imageset.name}}</label></li>\n\t\t\t</ul>\n\t\t</form>\n\t</div>\n</div>\n<div class="score">\n\t<p>{{\'STATS\'|translate}}</p>\n\t<div>\n\t\t<span class="label">{{\'STATS_GAMES\'|translate}}</span> <span>{{game.stats.games}}</span><br/>\n\t\t<span class="label">{{\'STATS_BEST\'|translate}}</span> <span>{{game.stats.bestTime | duration}}</span>\n\t</div>\n</div>\n'},yVVz:function(t,e,o){(t.exports=o("rP7Y")(!1)).push([t.i,":host{display:block;margin-bottom:8px}:host>div{vertical-align:top;display:inline-block;margin-right:20px}:host>div>div{font-size:.9em}:host h1{text-align:center;color:#47b00a;margin-top:0;margin-bottom:10px}:host p{margin:10px 0 4px;font-weight:700}:host .radio{text-align:left;list-style:none;padding:0;margin:0}:host .radio label{margin-left:2px}:host .score span.label{min-width:100px;display:inline-block}:host .keyboard span{margin-right:0;min-width:50px;display:inline-block}:host .keyboard span:first-of-type{min-width:18px;font-weight:700}:host .license span:first-of-type{min-width:80px;display:inline-block}:host .close{margin-top:0}@media (max-width:500px){:host{font-size:.9em}}",""]),t.exports=t.exports.toString()}},[0]);